<!doctype html><html lang=vi dir=auto><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Xử lý File trong NodeJS | Code Cho Vui</title><meta name=keywords content="NodeJS"><meta name=description content="Trong bài viết này, mình cùng nhau tìm hiểu cách NodeJS làm việc và xử lý các tác vụ với file nhé.
Module fs trong Nodejs Xử lý file là công việc khi mình tạo mới, truy cập, chỉnh sửa và lưu trữ file. Mình có thể làm việc với file thông qua module có sẵn trong nodejs đó là fs, viết tắt cho File System.
Cũng như các module khác, khi cần sử dụng một module mình phải cần require() nó."><meta name=author content="Code Cho Vui"><link rel=canonical href=https://codechovui.dev/blog/nodejs/files-in-nodejs/><link crossorigin=anonymous href=/assets/css/stylesheet.min.c88963fe2d79462000fd0fb1b3737783c32855d340583e4523343f8735c787f0.css integrity="sha256-yIlj/i15RiAA/Q+xs3N3g8MoVdNAWD5FIzQ/hzXHh/A=" rel="preload stylesheet" as=style><link rel=preload href=/img/icon.png as=image><script defer crossorigin=anonymous src=/assets/js/highlight.min.b95bacdc39e37a332a9f883b1e78be4abc1fdca2bc1f2641f55e3cd3dabd4d61.js integrity="sha256-uVus3DnjejMqn4g7Hni+Srwf3KK8HyZB9V4809q9TWE=" onload=hljs.initHighlightingOnLoad()></script>
<link rel=icon href=https://codechovui.dev/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://codechovui.dev/favicon.ico><link rel=icon type=image/png sizes=32x32 href=https://codechovui.dev/favicon.ico><link rel=apple-touch-icon href=https://codechovui.dev/favicon.ico><link rel=mask-icon href=https://codechovui.dev/favicon.ico><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><meta name=generator content="Hugo 0.111.3"><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--hljs-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><script async src="https://www.googletagmanager.com/gtag/js?id=G-KJ7E8KPYTM"></script>
<script>var doNotTrack=!1;if(!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-KJ7E8KPYTM",{anonymize_ip:!1})}</script><meta property="og:title" content="Xử lý File trong NodeJS"><meta property="og:description" content="Trong bài viết này, mình cùng nhau tìm hiểu cách NodeJS làm việc và xử lý các tác vụ với file nhé.
Module fs trong Nodejs Xử lý file là công việc khi mình tạo mới, truy cập, chỉnh sửa và lưu trữ file. Mình có thể làm việc với file thông qua module có sẵn trong nodejs đó là fs, viết tắt cho File System.
Cũng như các module khác, khi cần sử dụng một module mình phải cần require() nó."><meta property="og:type" content="article"><meta property="og:url" content="https://codechovui.dev/blog/nodejs/files-in-nodejs/"><meta property="og:image" content="https://codechovui.dev/img/icon.png"><meta property="article:section" content="blog"><meta property="article:published_time" content="2022-12-24T10:31:42+07:00"><meta property="article:modified_time" content="2022-12-24T10:31:42+07:00"><meta property="og:site_name" content="Mục Lục"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://codechovui.dev/img/icon.png"><meta name=twitter:title content="Xử lý File trong NodeJS"><meta name=twitter:description content="Trong bài viết này, mình cùng nhau tìm hiểu cách NodeJS làm việc và xử lý các tác vụ với file nhé.
Module fs trong Nodejs Xử lý file là công việc khi mình tạo mới, truy cập, chỉnh sửa và lưu trữ file. Mình có thể làm việc với file thông qua module có sẵn trong nodejs đó là fs, viết tắt cho File System.
Cũng như các module khác, khi cần sử dụng một module mình phải cần require() nó."><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":2,"name":"Blog","item":"https://codechovui.dev/blog/"},{"@type":"ListItem","position":3,"name":"NodeJS - JS Runtime","item":"https://codechovui.dev/blog/nodejs/"},{"@type":"ListItem","position":4,"name":"Xử lý File trong NodeJS","item":"https://codechovui.dev/blog/nodejs/files-in-nodejs/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"Xử lý File trong NodeJS","name":"Xử lý File trong NodeJS","description":"Trong bài viết này, mình cùng nhau tìm hiểu cách NodeJS làm việc và xử lý các tác vụ với file nhé.\nModule fs trong Nodejs Xử lý file là công việc khi mình tạo mới, truy cập, chỉnh sửa và lưu trữ file. Mình có thể làm việc với file thông qua module có sẵn trong nodejs đó là fs, viết tắt cho File System.\nCũng như các module khác, khi cần sử dụng một module mình phải cần require() nó.","keywords":["NodeJS"],"articleBody":"Trong bài viết này, mình cùng nhau tìm hiểu cách NodeJS làm việc và xử lý các tác vụ với file nhé.\nModule fs trong Nodejs Xử lý file là công việc khi mình tạo mới, truy cập, chỉnh sửa và lưu trữ file. Mình có thể làm việc với file thông qua module có sẵn trong nodejs đó là fs, viết tắt cho File System.\nCũng như các module khác, khi cần sử dụng một module mình phải cần require() nó.\nconst fs = require('fs') Đồng bộ (sync) và Bất đồng bộ (async) Trước khi tìm hiểu sâu hơn, mình cần biết cách hoạt động của sync và async.\nNói về đồng bộ và không đồng bộ, mình hiểu một cách đơn giản là khi xử lý đồng bộ, chương trình sẽ chạy theo từng dòng code từ trên xuống dưới, dòng dưới sẽ được thực thi khi dòng trên đã hoàn thành, còn bất đồng bộ là khi đoạn code bên dưới được thực thi mặc dù đoạn code bên trên vẫn chưa thực thi xong để cho ra kết quả.\nHàm đọc và viết file Để viết ra file mình thấy có hai phương thức, đó là fs.writeFileSync() và fs.writeFile(). Hai phương thức này khác nhau ở chỗ fs.writeFileSync là đồng bộ, cái còn lại thì không. Việc đọc file cũng vậy, mình sẽ có hai phương thức là fs.readFileSync() và fs.readFile().\nVậy nên, với một người đã lập trình C như mình, mình nghĩ là mình sẽ dùng phương thức đồng bộ, fs.writeFileSync() và fs.readFileSync(). Sau này, tùy vào vấn đề, mình có thể sẽ cần đến fs.writeFile() và fs.readFile(), nhưng bây giờ thì cứ lập trình như “bình thường” đã.\nCách sử dụng Để viết ra file, mình dùng câu lệnh fs.writeFileSync(PATH_TO_FILE, DATA)\nconst fs = require('fs'); fs.writeFileSync(\"note.txt\", \"This note is written by Nodejs!\"); Sau khi chạy chương trình trên, mình có một file mới (nếu file chưa tồn tại) có tên là note.txt với nội dung là This note is written by Nodejs!. Nếu file đã tồn tại mà mình chạy chương trình trên, Nodejs sẽ xóa hết nội dung trong file cũ và ghi lại nội dung mới vào file.\nVậy nếu muốn thêm nội dung thì sao? Mình có biết một hàm là fs.appendFileSync(PATH_TO_FILE, DATA). Cách sử dung giống như khi viết vào file.\nĐể đọc file, mình dùng câu lệnh fs.readFileSync(PATH_TO_FILE, ENCODING)\nconst fs = require('fs'); let text = fs.readFileSync(\"note.txt\", \"utf-8\"); console.log(text); Vậy là mình đã có thể đọc được thông tin từ trong file rồi.\nKết Vậy là mình đã biết được những hàm cơ bản để làm việc với file trong Nodejs rồi. Ngoài những phương thức trên, fs còn cung cấp rất nhiều các phương thức hữu ích khác nhau để mình làm việc với thư mục và file. Xem thêm tại docs của Nodejs.\nBonus Sau khi đọc được file, mình sẽ có thể dùng HTTP server để trả nội dung trang web về cho client.\nMình có file index.html như sau:\n\u003chtml lang=\"en\"\u003e \u003chead\u003e \u003cmeta charset=\"UTF-8\"\u003e \u003cmeta http-equiv=\"X-UA-Compatible\" content=\"IE=edge\"\u003e \u003cmeta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\"\u003e \u003ctitle\u003eHello World!\u003c/title\u003e \u003c/head\u003e \u003cstyle\u003e h1 { text-align: center; font-family: Consolas; font-weight: 500; padding-top: 45vh; } \u003c/style\u003e \u003cbody\u003e \u003ch1\u003e Hello world from HTTP server on NodeJS!\u003c/h1\u003e \u003c/body\u003e \u003c/html\u003e Và mình có file server như sau:\n// server.js const http = require('http'); const fs = require('fs'); http.createServer(function (req, res) { if (req.url === '/') { let content = fs.readFileSync(\"index.html\", \"utf-8\"); res.writeHead(200, {'Content-Type': 'text/html'}); res.write(content); res.end(); } else { res.writeHead(404, {'Content-Type': 'text/html'}); res.write(\"404 Not Found\"); res.end(); } }).listen(8080); console.log(\"Server listen on \") Có thể hiểu đoạn code trên là khi client request tới server, trang NodeJS sẽ đọc file index.html sau đó trả về cho client để browser render thành trang web. Nếu client requests tới một URL khác thì server sẽ trả về lỗi HTTP 404 Not Found.\nBây giờ, chỉ cần chạy file server.js và thưởng thức thành quả là một trang web bé xinh rồi.\nHAPPY CODING!\nCode Cho Vui, Kunniii\n","wordCount":"671","inLanguage":"vi","datePublished":"2022-12-24T10:31:42+07:00","dateModified":"2022-12-24T10:31:42+07:00","author":{"@type":"Person","name":"Code Cho Vui"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://codechovui.dev/blog/nodejs/files-in-nodejs/"},"publisher":{"@type":"Organization","name":"Code Cho Vui","logo":{"@type":"ImageObject","url":"https://codechovui.dev/favicon.ico"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://codechovui.dev accesskey=h title="Code Cho Vui (Alt + H)"><img src=/img/icon.png alt=logo aria-label=logo height=40>Code Cho Vui</a>
<span class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></span></div><ul id=menu><li><a href=https://codechovui.dev/blog title=Blog><span>Blog</span></a></li><li><a href=https://codechovui.dev/howto title=HowTo><span>HowTo</span></a></li><li><a href=https://codechovui.dev/tags title=Tags><span>Tags</span></a></li><li><a href=https://codechovui.dev/categories title=Categories><span>Categories</span></a></li><li><a href=https://codechovui.dev/about title=About><span>About</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><div class=breadcrumbs><a href=https://codechovui.dev>Trang chủ</a>&nbsp;»&nbsp;<a href=https://codechovui.dev/blog/>Blog</a>&nbsp;»&nbsp;<a href=https://codechovui.dev/blog/nodejs/>NodeJS - JS Runtime</a></div><h1 class=post-title>Xử lý File trong NodeJS</h1><div class=post-meta><span title='2022-12-24 10:31:42 +0700 +0700'>Saturday, December 24, 2022</span>&nbsp;·&nbsp;4 phút&nbsp;·&nbsp;Code Cho Vui</div></header><div class=toc><details open><summary accesskey=c title="(Alt + C)"><span class=details>Mục lục</span></summary><div class=inner><ul><li><a href=#module-fs-trong-nodejs aria-label="Module fs trong Nodejs">Module fs trong Nodejs</a></li><li><a href=#%c4%91%e1%bb%93ng-b%e1%bb%99-sync-v%c3%a0-b%e1%ba%a5t-%c4%91%e1%bb%93ng-b%e1%bb%99-async aria-label="Đồng bộ (sync) và Bất đồng bộ (async)">Đồng bộ (sync) và Bất đồng bộ (async)</a></li><li><a href=#h%c3%a0m-%c4%91%e1%bb%8dc-v%c3%a0-vi%e1%ba%bft-file aria-label="Hàm đọc và viết file">Hàm đọc và viết file</a></li><li><a href=#c%c3%a1ch-s%e1%bb%ad-d%e1%bb%a5ng aria-label="Cách sử dụng">Cách sử dụng</a></li><li><a href=#k%e1%ba%bft aria-label=Kết>Kết</a></li><li><a href=#bonus aria-label=Bonus>Bonus</a></li></ul></div></details></div><div class=post-content><p>Trong bài viết này, mình cùng nhau tìm hiểu cách NodeJS làm việc và xử lý các tác vụ với file nhé.</p><h2 id=module-fs-trong-nodejs>Module fs trong Nodejs<a hidden class=anchor aria-hidden=true href=#module-fs-trong-nodejs>#</a></h2><p>Xử lý file là công việc khi mình tạo mới, truy cập, chỉnh sửa và lưu trữ file. Mình có thể làm việc với file thông qua module có sẵn trong nodejs đó là fs, viết tắt cho File System.</p><p>Cũng như các module khác, khi cần sử dụng một module mình phải cần require() nó.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-js data-lang=js><span style=display:flex><span><span style=color:#ff79c6>const</span> fs <span style=color:#ff79c6>=</span> require(<span style=color:#f1fa8c>&#39;fs&#39;</span>)
</span></span></code></pre></div><h2 id=đồng-bộ-sync-và-bất-đồng-bộ-async>Đồng bộ (sync) và Bất đồng bộ (async)<a hidden class=anchor aria-hidden=true href=#đồng-bộ-sync-và-bất-đồng-bộ-async>#</a></h2><p>Trước khi tìm hiểu sâu hơn, mình cần biết cách hoạt động của <code>sync</code> và <code>async</code>.</p><p>Nói về đồng bộ và không đồng bộ, mình hiểu một cách đơn giản là khi xử lý đồng bộ, chương trình sẽ chạy theo từng dòng code từ trên xuống dưới, dòng dưới sẽ được thực thi khi dòng trên đã hoàn thành, còn bất đồng bộ là khi đoạn code bên dưới được thực thi mặc dù đoạn code bên trên vẫn chưa thực thi xong để cho ra kết quả.</p><h2 id=hàm-đọc-và-viết-file>Hàm đọc và viết file<a hidden class=anchor aria-hidden=true href=#hàm-đọc-và-viết-file>#</a></h2><p>Để viết ra file mình thấy có hai phương thức, đó là <code>fs.writeFileSync()</code> và <code>fs.writeFile()</code>. Hai phương thức này khác nhau ở chỗ <code>fs.writeFileSync</code> là đồng bộ, cái còn lại thì không. Việc đọc file cũng vậy, mình sẽ có hai phương thức là <code>fs.readFileSync()</code> và <code>fs.readFile()</code>.</p><p>Vậy nên, với một người đã lập trình C như mình, mình nghĩ là mình sẽ dùng phương thức đồng bộ, <code>fs.writeFileSync()</code> và <code>fs.readFileSync()</code>. Sau này, tùy vào vấn đề, mình có thể sẽ cần đến <code>fs.writeFile()</code> và <code>fs.readFile()</code>, nhưng bây giờ thì cứ lập trình như &ldquo;bình thường&rdquo; đã.</p><h2 id=cách-sử-dụng>Cách sử dụng<a hidden class=anchor aria-hidden=true href=#cách-sử-dụng>#</a></h2><p>Để viết ra file, mình dùng câu lệnh fs.writeFileSync(PATH_TO_FILE, DATA)</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-js data-lang=js><span style=display:flex><span><span style=color:#ff79c6>const</span> fs <span style=color:#ff79c6>=</span> require(<span style=color:#f1fa8c>&#39;fs&#39;</span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>fs.writeFileSync(<span style=color:#f1fa8c>&#34;note.txt&#34;</span>, <span style=color:#f1fa8c>&#34;This note is written by Nodejs!&#34;</span>);
</span></span></code></pre></div><p>Sau khi chạy chương trình trên, mình có một file mới (nếu file chưa tồn tại) có tên là <code>note.txt</code> với nội dung là <code>This note is written by Nodejs!</code>. Nếu file đã tồn tại mà mình chạy chương trình trên, Nodejs sẽ xóa hết nội dung trong file cũ và ghi lại nội dung mới vào file.</p><p>Vậy nếu muốn thêm nội dung thì sao? Mình có biết một hàm là <code>fs.appendFileSync(PATH_TO_FILE, DATA)</code>. Cách sử dung giống như khi viết vào file.</p><p>Để đọc file, mình dùng câu lệnh <code>fs.readFileSync(PATH_TO_FILE, ENCODING)</code></p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-js data-lang=js><span style=display:flex><span><span style=color:#ff79c6>const</span> fs <span style=color:#ff79c6>=</span> require(<span style=color:#f1fa8c>&#39;fs&#39;</span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#8be9fd;font-style:italic>let</span> text <span style=color:#ff79c6>=</span> fs.readFileSync(<span style=color:#f1fa8c>&#34;note.txt&#34;</span>, <span style=color:#f1fa8c>&#34;utf-8&#34;</span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>console.log(text);
</span></span></code></pre></div><p>Vậy là mình đã có thể đọc được thông tin từ trong file rồi.</p><h2 id=kết>Kết<a hidden class=anchor aria-hidden=true href=#kết>#</a></h2><p>Vậy là mình đã biết được những hàm cơ bản để làm việc với file trong Nodejs rồi. Ngoài những phương thức trên, fs còn cung cấp rất nhiều các phương thức hữu ích khác nhau để mình làm việc với thư mục và file. Xem thêm tại docs của Nodejs.</p><h2 id=bonus>Bonus<a hidden class=anchor aria-hidden=true href=#bonus>#</a></h2><p>Sau khi đọc được file, mình sẽ có thể dùng HTTP server để trả nội dung trang web về cho client.</p><p>Mình có file <code>index.html</code> như sau:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-html data-lang=html><span style=display:flex><span><span style=color:#6272a4>&lt;!-- index.html --&gt;</span>
</span></span><span style=display:flex><span>&lt;<span style=color:#ff79c6>html</span> <span style=color:#50fa7b>lang</span><span style=color:#ff79c6>=</span><span style=color:#f1fa8c>&#34;en&#34;</span>&gt;
</span></span><span style=display:flex><span>&lt;<span style=color:#ff79c6>head</span>&gt;
</span></span><span style=display:flex><span>    &lt;<span style=color:#ff79c6>meta</span> <span style=color:#50fa7b>charset</span><span style=color:#ff79c6>=</span><span style=color:#f1fa8c>&#34;UTF-8&#34;</span>&gt;
</span></span><span style=display:flex><span>    &lt;<span style=color:#ff79c6>meta</span> <span style=color:#50fa7b>http-equiv</span><span style=color:#ff79c6>=</span><span style=color:#f1fa8c>&#34;X-UA-Compatible&#34;</span> <span style=color:#50fa7b>content</span><span style=color:#ff79c6>=</span><span style=color:#f1fa8c>&#34;IE=edge&#34;</span>&gt;
</span></span><span style=display:flex><span>    &lt;<span style=color:#ff79c6>meta</span> <span style=color:#50fa7b>name</span><span style=color:#ff79c6>=</span><span style=color:#f1fa8c>&#34;viewport&#34;</span> <span style=color:#50fa7b>content</span><span style=color:#ff79c6>=</span><span style=color:#f1fa8c>&#34;width=device-width, initial-scale=1.0&#34;</span>&gt;
</span></span><span style=display:flex><span>    &lt;<span style=color:#ff79c6>title</span>&gt;Hello World!&lt;/<span style=color:#ff79c6>title</span>&gt;
</span></span><span style=display:flex><span>&lt;/<span style=color:#ff79c6>head</span>&gt;
</span></span><span style=display:flex><span>&lt;<span style=color:#ff79c6>style</span>&gt;
</span></span><span style=display:flex><span>    <span style=color:#ff79c6>h1</span> {
</span></span><span style=display:flex><span>        <span style=color:#ff79c6>text-align</span>: <span style=color:#ff79c6>center</span>;
</span></span><span style=display:flex><span>        <span style=color:#ff79c6>font-family</span>: Consolas;
</span></span><span style=display:flex><span>        <span style=color:#ff79c6>font-weight</span>: <span style=color:#bd93f9>500</span>;
</span></span><span style=display:flex><span>        <span style=color:#ff79c6>padding-top</span>: <span style=color:#bd93f9>45</span><span style=color:#8be9fd>vh</span>;
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>&lt;/<span style=color:#ff79c6>style</span>&gt;
</span></span><span style=display:flex><span>&lt;<span style=color:#ff79c6>body</span>&gt;
</span></span><span style=display:flex><span>    &lt;<span style=color:#ff79c6>h1</span>&gt; Hello world from HTTP server on NodeJS!&lt;/<span style=color:#ff79c6>h1</span>&gt;
</span></span><span style=display:flex><span>&lt;/<span style=color:#ff79c6>body</span>&gt;
</span></span><span style=display:flex><span>&lt;/<span style=color:#ff79c6>html</span>&gt;
</span></span></code></pre></div><p>Và mình có file server như sau:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-js data-lang=js><span style=display:flex><span><span style=color:#6272a4>// server.js
</span></span></span><span style=display:flex><span><span style=color:#6272a4></span><span style=color:#ff79c6>const</span> http <span style=color:#ff79c6>=</span> require(<span style=color:#f1fa8c>&#39;http&#39;</span>);
</span></span><span style=display:flex><span><span style=color:#ff79c6>const</span> fs <span style=color:#ff79c6>=</span> require(<span style=color:#f1fa8c>&#39;fs&#39;</span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>http.createServer(<span style=color:#8be9fd;font-style:italic>function</span> (req, res) {
</span></span><span style=display:flex><span>    <span style=color:#ff79c6>if</span> (req.url <span style=color:#ff79c6>===</span> <span style=color:#f1fa8c>&#39;/&#39;</span>) {
</span></span><span style=display:flex><span>        <span style=color:#8be9fd;font-style:italic>let</span> content <span style=color:#ff79c6>=</span> fs.readFileSync(<span style=color:#f1fa8c>&#34;index.html&#34;</span>, <span style=color:#f1fa8c>&#34;utf-8&#34;</span>);
</span></span><span style=display:flex><span>        res.writeHead(<span style=color:#bd93f9>200</span>, {<span style=color:#f1fa8c>&#39;Content-Type&#39;</span><span style=color:#ff79c6>:</span> <span style=color:#f1fa8c>&#39;text/html&#39;</span>});
</span></span><span style=display:flex><span>        res.write(content);
</span></span><span style=display:flex><span>        res.end();
</span></span><span style=display:flex><span>    } <span style=color:#ff79c6>else</span> {
</span></span><span style=display:flex><span>        res.writeHead(<span style=color:#bd93f9>404</span>, {<span style=color:#f1fa8c>&#39;Content-Type&#39;</span><span style=color:#ff79c6>:</span> <span style=color:#f1fa8c>&#39;text/html&#39;</span>});
</span></span><span style=display:flex><span>        res.write(<span style=color:#f1fa8c>&#34;&lt;/h1&gt;404 Not Found&lt;/h1&gt;&#34;</span>);
</span></span><span style=display:flex><span>        res.end();
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>}).listen(<span style=color:#bd93f9>8080</span>);
</span></span><span style=display:flex><span>console.log(<span style=color:#f1fa8c>&#34;Server listen on &lt;http://localhost:8080&gt;&#34;</span>)
</span></span></code></pre></div><p>Có thể hiểu đoạn code trên là khi client request tới server, trang NodeJS sẽ đọc file <code>index.html</code> sau đó trả về cho client để browser render thành trang web. Nếu client requests tới một URL khác thì server sẽ trả về lỗi <code>HTTP 404 Not Found</code>.</p><p>Bây giờ, chỉ cần chạy file <code>server.js</code> và thưởng thức thành quả là một trang web bé xinh rồi.</p><p><strong>HAPPY CODING!</strong></p><blockquote><p>Code Cho Vui, Kunniii</p></blockquote></div><footer class=post-footer><ul class=post-tags><li><a href=https://codechovui.dev/tags/nodejs/>Nodejs</a></li></ul><nav class=paginav><a class=prev href=https://codechovui.dev/blog/nodejs/http-server-nodejs/><span class=title>« Trang trước</span><br><span>HTTP Server bằng NodeJS</span></a>
<a class=next href=https://codechovui.dev/blog/nodejs/eventemitter-trong-nodejs-l%C3%A0-g%C3%AC/><span class=title>Trang tiếp theo »</span><br><span>EventEmitter Trong Nodejs Là Gì?</span></a></nav><br><div class=giscus></div><script src=https://giscus.app/client.js data-repo=CodeChoVui/CodeChoVui.github.io data-repo-id="MDEwOlJlcG9zaXRvcnkzNzMxMTU0MDE=" data-category=General data-category-id=DIC_kwDOFj1KCc4CVLRE data-mapping=pathname data-strict=0 data-reactions-enabled=1 data-emit-metadata=0 data-input-position=bottom data-theme=dark_dimmed data-lang=en crossorigin=anonymous async></script><div class=share-buttons><a target=_blank rel="noopener noreferrer" aria-label="share Xử lý File trong NodeJS on twitter" href="https://twitter.com/intent/tweet/?text=X%e1%bb%ad%20l%c3%bd%20File%20trong%20NodeJS&amp;url=https%3a%2f%2fcodechovui.dev%2fblog%2fnodejs%2ffiles-in-nodejs%2f&amp;hashtags=NodeJS"><svg viewBox="0 0 512 512"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zM195.519 424.544c135.939.0 210.268-112.643 210.268-210.268.0-3.218.0-6.437-.153-9.502 14.406-10.421 26.973-23.448 36.935-38.314-13.18 5.824-27.433 9.809-42.452 11.648 15.326-9.196 26.973-23.602 32.49-40.92-14.252 8.429-30.038 14.56-46.896 17.931-13.487-14.406-32.644-23.295-53.946-23.295-40.767.0-73.87 33.104-73.87 73.87.0 5.824.613 11.494 1.992 16.858-61.456-3.065-115.862-32.49-152.337-77.241-6.284 10.881-9.962 23.601-9.962 37.088.0 25.594 13.027 48.276 32.95 61.456-12.107-.307-23.448-3.678-33.41-9.196v.92c0 35.862 25.441 65.594 59.311 72.49-6.13 1.686-12.72 2.606-19.464 2.606-4.751.0-9.348-.46-13.946-1.38 9.349 29.426 36.628 50.728 68.965 51.341-25.287 19.771-57.164 31.571-91.8 31.571-5.977.0-11.801-.306-17.625-1.073 32.337 21.15 71.264 33.41 112.95 33.41z"/></svg></a><a target=_blank rel="noopener noreferrer" aria-label="share Xử lý File trong NodeJS on linkedin" href="https://www.linkedin.com/shareArticle?mini=true&amp;url=https%3a%2f%2fcodechovui.dev%2fblog%2fnodejs%2ffiles-in-nodejs%2f&amp;title=X%e1%bb%ad%20l%c3%bd%20File%20trong%20NodeJS&amp;summary=X%e1%bb%ad%20l%c3%bd%20File%20trong%20NodeJS&amp;source=https%3a%2f%2fcodechovui.dev%2fblog%2fnodejs%2ffiles-in-nodejs%2f"><svg viewBox="0 0 512 512"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zM160.461 423.278V197.561h-75.04v225.717h75.04zm270.539.0V293.839c0-69.333-37.018-101.586-86.381-101.586-39.804.0-57.634 21.891-67.617 37.266v-31.958h-75.021c.995 21.181.0 225.717.0 225.717h75.02V297.222c0-6.748.486-13.492 2.474-18.315 5.414-13.475 17.767-27.434 38.494-27.434 27.135.0 38.007 20.707 38.007 51.037v120.768H431zM123.448 88.722C97.774 88.722 81 105.601 81 127.724c0 21.658 16.264 39.002 41.455 39.002h.484c26.165.0 42.452-17.344 42.452-39.002-.485-22.092-16.241-38.954-41.943-39.002z"/></svg></a><a target=_blank rel="noopener noreferrer" aria-label="share Xử lý File trong NodeJS on reddit" href="https://reddit.com/submit?url=https%3a%2f%2fcodechovui.dev%2fblog%2fnodejs%2ffiles-in-nodejs%2f&title=X%e1%bb%ad%20l%c3%bd%20File%20trong%20NodeJS"><svg viewBox="0 0 512 512"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zM446 265.638c0-22.964-18.616-41.58-41.58-41.58-11.211.0-21.361 4.457-28.841 11.666-28.424-20.508-67.586-33.757-111.204-35.278l18.941-89.121 61.884 13.157c.756 15.734 13.642 28.29 29.56 28.29 16.407.0 29.706-13.299 29.706-29.701.0-16.403-13.299-29.702-29.706-29.702-11.666.0-21.657 6.792-26.515 16.578l-69.105-14.69c-1.922-.418-3.939-.042-5.585 1.036-1.658 1.073-2.811 2.761-3.224 4.686l-21.152 99.438c-44.258 1.228-84.046 14.494-112.837 35.232-7.468-7.164-17.589-11.591-28.757-11.591-22.965.0-41.585 18.616-41.585 41.58.0 16.896 10.095 31.41 24.568 37.918-.639 4.135-.99 8.328-.99 12.576.0 63.977 74.469 115.836 166.33 115.836s166.334-51.859 166.334-115.836c0-4.218-.347-8.387-.977-12.493 14.564-6.47 24.735-21.034 24.735-38.001zM326.526 373.831c-20.27 20.241-59.115 21.816-70.534 21.816-11.428.0-50.277-1.575-70.522-21.82-3.007-3.008-3.007-7.882.0-10.889 3.003-2.999 7.882-3.003 10.885.0 12.777 12.781 40.11 17.317 59.637 17.317 19.522.0 46.86-4.536 59.657-17.321 3.016-2.999 7.886-2.995 10.885.008 3.008 3.011 3.003 7.882-.008 10.889zm-5.23-48.781c-16.373.0-29.701-13.324-29.701-29.698.0-16.381 13.328-29.714 29.701-29.714 16.378.0 29.706 13.333 29.706 29.714.0 16.374-13.328 29.698-29.706 29.698zM160.91 295.348c0-16.381 13.328-29.71 29.714-29.71 16.369.0 29.689 13.329 29.689 29.71.0 16.373-13.32 29.693-29.689 29.693-16.386.0-29.714-13.32-29.714-29.693z"/></svg></a><a target=_blank rel="noopener noreferrer" aria-label="share Xử lý File trong NodeJS on facebook" href="https://facebook.com/sharer/sharer.php?u=https%3a%2f%2fcodechovui.dev%2fblog%2fnodejs%2ffiles-in-nodejs%2f"><svg viewBox="0 0 512 512"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H342.978V319.085h66.6l12.672-82.621h-79.272v-53.617c0-22.603 11.073-44.636 46.58-44.636H425.6v-70.34s-32.71-5.582-63.982-5.582c-65.288.0-107.96 39.569-107.96 111.204v62.971h-72.573v82.621h72.573V512h-191.104c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892z"/></svg></a><a target=_blank rel="noopener noreferrer" aria-label="share Xử lý File trong NodeJS on whatsapp" href="https://api.whatsapp.com/send?text=X%e1%bb%ad%20l%c3%bd%20File%20trong%20NodeJS%20-%20https%3a%2f%2fcodechovui.dev%2fblog%2fnodejs%2ffiles-in-nodejs%2f"><svg viewBox="0 0 512 512"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zm-58.673 127.703c-33.842-33.881-78.847-52.548-126.798-52.568-98.799.0-179.21 80.405-179.249 179.234-.013 31.593 8.241 62.428 23.927 89.612l-25.429 92.884 95.021-24.925c26.181 14.28 55.659 21.807 85.658 21.816h.074c98.789.0 179.206-80.413 179.247-179.243.018-47.895-18.61-92.93-52.451-126.81zM263.976 403.485h-.06c-26.734-.01-52.954-7.193-75.828-20.767l-5.441-3.229-56.386 14.792 15.05-54.977-3.542-5.637c-14.913-23.72-22.791-51.136-22.779-79.287.033-82.142 66.867-148.971 149.046-148.971 39.793.014 77.199 15.531 105.329 43.692 28.128 28.16 43.609 65.592 43.594 105.4-.034 82.149-66.866 148.983-148.983 148.984zm81.721-111.581c-4.479-2.242-26.499-13.075-30.604-14.571-4.105-1.495-7.091-2.241-10.077 2.241-2.986 4.483-11.569 14.572-14.182 17.562-2.612 2.988-5.225 3.364-9.703 1.12-4.479-2.241-18.91-6.97-36.017-22.23C231.8 264.15 222.81 249.484 220.198 245s-.279-6.908 1.963-9.14c2.016-2.007 4.48-5.232 6.719-7.847 2.24-2.615 2.986-4.484 4.479-7.472 1.493-2.99.747-5.604-.374-7.846-1.119-2.241-10.077-24.288-13.809-33.256-3.635-8.733-7.327-7.55-10.077-7.688-2.609-.13-5.598-.158-8.583-.158-2.986.0-7.839 1.121-11.944 5.604-4.105 4.484-15.675 15.32-15.675 37.364.0 22.046 16.048 43.342 18.287 46.332 2.24 2.99 31.582 48.227 76.511 67.627 10.685 4.615 19.028 7.371 25.533 9.434 10.728 3.41 20.492 2.929 28.209 1.775 8.605-1.285 26.499-10.833 30.231-21.295 3.732-10.464 3.732-19.431 2.612-21.298-1.119-1.869-4.105-2.99-8.583-5.232z"/></svg></a><a target=_blank rel="noopener noreferrer" aria-label="share Xử lý File trong NodeJS on telegram" href="https://telegram.me/share/url?text=X%e1%bb%ad%20l%c3%bd%20File%20trong%20NodeJS&amp;url=https%3a%2f%2fcodechovui.dev%2fblog%2fnodejs%2ffiles-in-nodejs%2f"><svg viewBox="2 2 28 28"><path d="M26.49 29.86H5.5a3.37 3.37.0 01-2.47-1 3.35 3.35.0 01-1-2.47V5.48A3.36 3.36.0 013 3 3.37 3.37.0 015.5 2h21A3.38 3.38.0 0129 3a3.36 3.36.0 011 2.46V26.37a3.35 3.35.0 01-1 2.47 3.38 3.38.0 01-2.51 1.02zm-5.38-6.71a.79.79.0 00.85-.66L24.73 9.24a.55.55.0 00-.18-.46.62.62.0 00-.41-.17q-.08.0-16.53 6.11a.59.59.0 00-.41.59.57.57.0 00.43.52l4 1.24 1.61 4.83a.62.62.0 00.63.43.56.56.0 00.4-.17L16.54 20l4.09 3A.9.9.0 0021.11 23.15zM13.8 20.71l-1.21-4q8.72-5.55 8.78-5.55c.15.0.23.0.23.16a.18.18.0 010 .06s-2.51 2.3-7.52 6.8z"/></svg></a></div></footer></article></main><footer class=footer><span>&copy; 2023 <a href=https://codechovui.dev>Code Cho Vui</a></span>
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://git.io/hugopapermod rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg></a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script><script>document.querySelectorAll("pre > code").forEach(e=>{const n=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerText="Sao chép";function s(){t.innerText="Đã sao chép!",setTimeout(()=>{t.innerText="Sao chép"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),s();return}const n=document.createRange();n.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(n);try{document.execCommand("copy"),s()}catch{}o.removeRange(n)}),n.classList.contains("highlight")?n.appendChild(t):n.parentNode.firstChild==n||(e.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?e.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(t):e.parentNode.appendChild(t))})</script></body></html>